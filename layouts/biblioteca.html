<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Biblioteca</title>
    <link rel="stylesheet" href="../web/css/biblioteca.css">
</head>
<body>
    <nav class="nav">
        <h1>Gestión de Biblioteca</h1>
        <ul>
            <li><a href="#socio">Socios</a></li>
            <li><a href="#libros">Libros</a></li>
            <li><a href="#consultas">Préstamos</a></li>
        </ul>
    </nav>

    <main class="general">
        <section id="socio" class="sec">
            <div class="content">
                <h3>Nuevo Socio</h3>
                <form class="form" id="formNuevoSocio">
                    <div class="miniform">
                        <input type="text" id="nomS" placeholder="Nombre completo" required>
                        <input type="email" id="corS" placeholder="Correo electrónico" required>
                        <input type="tel" id="telS" placeholder="Teléfono" required>
                    </div>
                    <button type="submit" class="btn">Registrar Socio</button>
                </form>
                <hr>
                <h3>Buscador de Socios</h3>
                <div class="seconsult">
                    <input type="text" id="busqNombreSocio" placeholder="Nombre del socio...">
                    <button id="btnBuscarSocio" class="btn">Buscar</button>
                </div>
                <div id="resSocio" style="display:none; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-top:10px;">
                    <p id="infoSocioText"></p>
                    <button id="btnActivarMod" class="btn" style="background:#e67e22">Modificar Datos</button>
                </div>
                <form id="formModSocio" class="form" style="display:none; margin-top:15px;">
                    <input type="hidden" id="modIdS">
                    <div class="miniform">
                        <input type="text" id="modSocio" placeholder="Nombre">
                        <input type="email" id="modgmailSocio" placeholder="Correo">
                        <input type="text" id="modtelfSocio" placeholder="Teléfono">
                    </div>
                    <button type="submit" class="btn">Guardar Cambios</button>
                </form>
            </div>
        </section>

        <section id="libros" class="sec">
            <div class="content">
                <h3>Alta de Libros</h3>
                <form class="form" id="formNuevoLibro">
                    <div class="miniform">
                        <input type="text" id="titulolibro" placeholder="Título">
                        <div class="seconsult">
                            <select id="busqGenLibro">
                                <option value="">Cargando géneros...</option>
                            </select>
                            <button id="btnBuscarLibro" class="btn">Filtrar</button>
                        </div>
                        <input type="number" id="ejemplar" placeholder="Stock">
                    </div>
                    <button type="submit" class="btn">Añadir Libro</button>
                </form>
                <hr>
                <h3>Catálogo</h3>
                <div class="seconsult">
                    <input type="text" id="busqGenLibro" placeholder="Género o Título">
                    <button id="btnBuscarLibro" class="btn">Consultar</button>
                </div>
                <div id="resLibro" style="display:none; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                    <p id="infoLibroText"></p>
                    <button id="btnActivarPrestamo" class="btn" style="background:#27ae60">Generar Préstamo</button>
                </div>
                <form id="formPrestamoRapido" class="form" style="display:none; margin-top:15px; border: 1px solid #27ae60; padding:10px;">
                    <input type="hidden" id="pLibroId">
                    <label>ID del Socio que solicita el préstamo:</label>
                    <input type="number" id="pSocioId" placeholder="ID Socio" required>
                    <button type="submit" class="btn">Confirmar Préstamo</button>
                </form>
            </div>
        </section>

        <section id="consultas" class="sec">
            <div class="content">
                <h3>Listados de Préstamos</h3>
                <div class="seconsult">
                    <button id="btnVencidos" class="btn">Vencidos</button>
                    <button id="btnNoVencidos" class="btn">No Vencidos</button>
                    <button id="btnHistorial" class="btn">Historial Devoluciones</button>
                </div>
                <div class="tablecontainer">
                    <table id="tablaGral">
                        <tbody id="tbodyGral"></tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>


    <footer class="aviso">
        <ul>
            <li><a href="#">Aviso legal</a></li>
            <li><a href="#">Términos</a></li>
            <li><a href="#">Privacidad</a></li>
        </ul>
        <p>© 2025 | Trabajo grupal de Ampliación</p>
    </footer>

    <script type="module" src="/web/css/typescript/bibliotecas.js"></script>

</body>
</html>