<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Biblioteca</title>
    <link rel="stylesheet" href="../web/css/biblioteca.css">
</head>
<body>
    <nav class="nav">
        <h1>Gestión de Biblioteca</h1>
        <ul>
            <li><a href="#socio">Socios</a></li>
            <li><a href="#libros">Libros</a></li>
            <li><a href="#consultas">Préstamos</a></li>
        </ul>
    </nav>

    <main class="general">

        <!-- SECCIÓN SOCIOS -->
        <section id="socio" class="sec">
            <div class="content">
                <h3>Registrar Nuevo Socio</h3>
                <form id="formNuevoSocio" class="form">
                    <input type="text" id="nomS" placeholder="Nombre completo" required>
                    <input type="email" id="corS" placeholder="Correo electrónico" required>
                    <input type="tel" id="telS" placeholder="Teléfono" required>
                    <button type="submit" class="btn">Registrar Socio</button>
                </form>
                <hr>
                <h3>Buscar Socio</h3>
                <div class="seconsult">
                    <input type="text" id="busqNombreSocio" placeholder="Nombre del socio...">
                    <button id="btnBuscarSocio" class="btn">Buscar</button>
                </div>
                
                <table id="tablaSocios" style="width:100%; margin-top:15px;">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Correo</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="infoSocioText"></tbody>
                </table>
               
                <form id="formModSocio" class="form" style="display:none; margin-top:10px;">
                    <input type="hidden" id="modIdS">
                    <input type="text" id="modSocio" placeholder="Nombre">
                    <input type="email" id="modgmailSocio" placeholder="Correo">
                    <input type="text" id="modtelfSocio" placeholder="Teléfono">
                    <button type="submit" class="btn">Guardar Cambios</button>
                </form>
            </div>
        </section>

        <!-- SECCIÓN LIBROS -->
        <section id="libros" class="sec">
            <div class="content">
                <h3>Alta de Libros</h3>
                <form id="formNuevoLibro" class="form">
                    <input type="text" id="titulolibro" placeholder="Título" required>
                    <select id="busqGenLibro"></select>
                    <input type="number" id="ejemplar" placeholder="Stock" required>
                    <button type="submit" class="btn">Agregar Libro</button>
                </form>
                <hr>
                <h3>Catálogo de Libros</h3>
                <div class="seconsult">
                    <input type="text" id="busqLibroCatalogo" placeholder="Filtrar por género...">
                    <button id="btnFiltrarLibro" class="btn">Filtrar</button>
                </div>
                <div id="resLibro" style="display:none; margin-top:10px; padding:10px; background:#f2f2f2; border-radius:8px;">
                    <p id="infoLibroText"></p>
                </div>
                <form id="formPrestamoRapido" class="form" style="display:none; margin-top:10px; border:1px solid #27ae60; padding:10px;">
                    <input type="hidden" id="pLibroId">
                    <label>ID Socio que solicita el préstamo:</label>
                    <input type="number" id="pSocioId" placeholder="ID Socio" required>
                    <button type="submit" class="btn">Confirmar Préstamo</button>
                </form>
                <table id="tablaLibros" style="width:100%; margin-top:15px;">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Título</th>
                            <th>Género</th>
                            <th>Stock</th>
                            <th>Seleccionar</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyGral"></tbody>
                </table>
            </div>
        </section>

        <!-- SECCIÓN PRÉSTAMOS -->
        <section id="consultas" class="sec">
            <div class="content">
                <h3>Consultas de Préstamos</h3>
                <div class="seconsult">
                    <input type="text" id="busqIdSocio" placeholder="Buscar por ID del socio">
                    <button id="btnfiltrarPrestamos" class="btn">Filtrar</button>
                    <button id="btnVencidos" class="btn">Vencidos</button>
                    <button id="btnNoVencidos" class="btn">No Vencidos</button>
                    <button id="btnHistorial" class="btn">Historial</button>
                </div>
                <table id="tablaPrestamos" style="width:100%; margin-top:15px;">
                    <thead>
                        <tr>
                            <th>ID Socio</th>
                            <th>ID Libro</th>
                            <th>Vencimiento</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyPrestamos"></tbody>
                </table>
            </div>
        </section>

    </main>

    <footer class="aviso">
        <p>© 2026 | Biblioteca</p>
    </footer>
    <script type="module" src="../web/typescript/bibliotecas.js"></script>
</body>
</html>